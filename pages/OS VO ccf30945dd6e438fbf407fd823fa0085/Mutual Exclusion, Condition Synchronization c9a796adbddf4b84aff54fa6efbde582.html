<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Mutual Exclusion, Condition Synchronization</title>
        <style>
            /* cspell:disable-file */
            /* webkit printing magic: print all background colors */
            html {
                -webkit-print-color-adjust: exact;
            }
            * {
                box-sizing: border-box;
                -webkit-print-color-adjust: exact;
            }

            html,
            body {
                margin: 0;
                padding: 0;
            }
            @media only screen {
                body {
                    margin: 2em auto;
                    max-width: 900px;
                    color: rgb(55, 53, 47);
                }
            }

            body {
                line-height: 1.5;
                white-space: pre-wrap;
            }

            a,
            a.visited {
                color: inherit;
                text-decoration: underline;
            }

            .pdf-relative-link-path {
                font-size: 80%;
                color: #444;
            }

            h1,
            h2,
            h3 {
                letter-spacing: -0.01em;
                line-height: 1.2;
                font-weight: 600;
                margin-bottom: 0;
            }

            .page-title {
                font-size: 2.5rem;
                font-weight: 700;
                margin-top: 0;
                margin-bottom: 0.75em;
            }

            h1 {
                font-size: 1.875rem;
                margin-top: 1.875rem;
            }

            h2 {
                font-size: 1.5rem;
                margin-top: 1.5rem;
            }

            h3 {
                font-size: 1.25rem;
                margin-top: 1.25rem;
            }

            .source {
                border: 1px solid #ddd;
                border-radius: 3px;
                padding: 1.5em;
                word-break: break-all;
            }

            .callout {
                border-radius: 3px;
                padding: 1rem;
            }

            figure {
                margin: 1.25em 0;
                page-break-inside: avoid;
            }

            figcaption {
                opacity: 0.5;
                font-size: 85%;
                margin-top: 0.5em;
            }

            mark {
                background-color: transparent;
            }

            .indented {
                padding-left: 1.5em;
            }

            hr {
                background: transparent;
                display: block;
                width: 100%;
                height: 1px;
                visibility: visible;
                border: none;
                border-bottom: 1px solid rgba(55, 53, 47, 0.09);
            }

            img {
                max-width: 100%;
            }

            @media only print {
                img {
                    max-height: 100vh;
                    object-fit: contain;
                }
            }

            @page {
                margin: 1in;
            }

            .collection-content {
                font-size: 0.875rem;
            }

            .column-list {
                display: flex;
                justify-content: space-between;
            }

            .column {
                padding: 0 1em;
            }

            .column:first-child {
                padding-left: 0;
            }

            .column:last-child {
                padding-right: 0;
            }

            .table_of_contents-item {
                display: block;
                font-size: 0.875rem;
                line-height: 1.3;
                padding: 0.125rem;
            }

            .table_of_contents-indent-1 {
                margin-left: 1.5rem;
            }

            .table_of_contents-indent-2 {
                margin-left: 3rem;
            }

            .table_of_contents-indent-3 {
                margin-left: 4.5rem;
            }

            .table_of_contents-link {
                text-decoration: none;
                opacity: 0.7;
                border-bottom: 1px solid rgba(55, 53, 47, 0.18);
            }

            table,
            th,
            td {
                border: 1px solid rgba(55, 53, 47, 0.09);
                border-collapse: collapse;
            }

            table {
                border-left: none;
                border-right: none;
            }

            th,
            td {
                font-weight: normal;
                padding: 0.25em 0.5em;
                line-height: 1.5;
                min-height: 1.5em;
                text-align: left;
            }

            th {
                color: rgba(55, 53, 47, 0.6);
            }

            ol,
            ul {
                margin: 0;
                margin-block-start: 0.6em;
                margin-block-end: 0.6em;
            }

            li > ol:first-child,
            li > ul:first-child {
                margin-block-start: 0.6em;
            }

            ul > li {
                list-style: disc;
            }

            ul.to-do-list {
                padding-inline-start: 0;
            }

            ul.to-do-list > li {
                list-style: none;
            }

            .to-do-children-checked {
                text-decoration: line-through;
                opacity: 0.375;
            }

            ul.toggle > li {
                list-style: none;
            }

            ul {
                padding-inline-start: 1.7em;
            }

            ul > li {
                padding-left: 0.1em;
            }

            ol {
                padding-inline-start: 1.6em;
            }

            ol > li {
                padding-left: 0.2em;
            }

            .mono ol {
                padding-inline-start: 2em;
            }

            .mono ol > li {
                text-indent: -0.4em;
            }

            .toggle {
                padding-inline-start: 0em;
                list-style-type: none;
            }

            /* Indent toggle children */
            .toggle > li > details {
                padding-left: 1.7em;
            }

            .toggle > li > details > summary {
                margin-left: -1.1em;
            }

            .selected-value {
                display: inline-block;
                padding: 0 0.5em;
                background: rgba(206, 205, 202, 0.5);
                border-radius: 3px;
                margin-right: 0.5em;
                margin-top: 0.3em;
                margin-bottom: 0.3em;
                white-space: nowrap;
            }

            .collection-title {
                display: inline-block;
                margin-right: 1em;
            }

            .page-description {
                margin-bottom: 2em;
            }

            .simple-table {
                margin-top: 1em;
                font-size: 0.875rem;
                empty-cells: show;
            }
            .simple-table td {
                height: 29px;
                min-width: 120px;
            }

            .simple-table th {
                height: 29px;
                min-width: 120px;
            }

            .simple-table-header-color {
                background: rgb(247, 246, 243);
                color: black;
            }
            .simple-table-header {
                font-weight: 500;
            }

            time {
                opacity: 0.5;
            }

            .icon {
                display: inline-block;
                max-width: 1.2em;
                max-height: 1.2em;
                text-decoration: none;
                vertical-align: text-bottom;
                margin-right: 0.5em;
            }

            img.icon {
                border-radius: 3px;
            }

            .user-icon {
                width: 1.5em;
                height: 1.5em;
                border-radius: 100%;
                margin-right: 0.5rem;
            }

            .user-icon-inner {
                font-size: 0.8em;
            }

            .text-icon {
                border: 1px solid #000;
                text-align: center;
            }

            .page-cover-image {
                display: block;
                object-fit: cover;
                width: 100%;
                max-height: 30vh;
            }

            .page-header-icon {
                font-size: 3rem;
                margin-bottom: 1rem;
            }

            .page-header-icon-with-cover {
                margin-top: -0.72em;
                margin-left: 0.07em;
            }

            .page-header-icon img {
                border-radius: 3px;
            }

            .link-to-page {
                margin: 1em 0;
                padding: 0;
                border: none;
                font-weight: 500;
            }

            p > .user {
                opacity: 0.5;
            }

            td > .user,
            td > time {
                white-space: nowrap;
            }

            input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 0.6em;
                vertical-align: middle;
            }

            p {
                margin-top: 0.5em;
                margin-bottom: 0.5em;
            }

            .image {
                border: none;
                margin: 1.5em 0;
                padding: 0;
                border-radius: 0;
                text-align: center;
            }

            .code,
            code {
                background: rgba(135, 131, 120, 0.15);
                border-radius: 3px;
                padding: 0.2em 0.4em;
                border-radius: 3px;
                font-size: 85%;
                tab-size: 2;
            }

            code {
                color: #eb5757;
            }

            .code {
                padding: 1.5em 1em;
            }

            .code-wrap {
                white-space: pre-wrap;
                word-break: break-all;
            }

            .code > code {
                background: none;
                padding: 0;
                font-size: 100%;
                color: inherit;
            }

            blockquote {
                font-size: 1.25em;
                margin: 1em 0;
                padding-left: 1em;
                border-left: 3px solid rgb(55, 53, 47);
            }

            .bookmark {
                text-decoration: none;
                max-height: 8em;
                padding: 0;
                display: flex;
                width: 100%;
                align-items: stretch;
            }

            .bookmark-title {
                font-size: 0.85em;
                overflow: hidden;
                text-overflow: ellipsis;
                height: 1.75em;
                white-space: nowrap;
            }

            .bookmark-text {
                display: flex;
                flex-direction: column;
            }

            .bookmark-info {
                flex: 4 1 180px;
                padding: 12px 14px 14px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }

            .bookmark-image {
                width: 33%;
                flex: 1 1 180px;
                display: block;
                position: relative;
                object-fit: cover;
                border-radius: 1px;
            }

            .bookmark-description {
                color: rgba(55, 53, 47, 0.6);
                font-size: 0.75em;
                overflow: hidden;
                max-height: 4.5em;
                word-break: break-word;
            }

            .bookmark-href {
                font-size: 0.75em;
                margin-top: 0.25em;
            }

            .sans {
                font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji",
                    "Segoe UI Symbol";
            }
            .code {
                font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace;
            }
            .serif {
                font-family: Lyon-Text, Georgia, ui-serif, serif;
            }
            .mono {
                font-family: iawriter-mono, Nitti, Menlo, Courier, monospace;
            }
            .pdf .sans {
                font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif,
                    "Segoe UI Emoji", "Segoe UI Symbol", "Twemoji", "Noto Color Emoji", "Noto Sans CJK JP";
            }
            .pdf:lang(zh-CN) .sans {
                font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif,
                    "Segoe UI Emoji", "Segoe UI Symbol", "Twemoji", "Noto Color Emoji", "Noto Sans CJK SC";
            }
            .pdf:lang(zh-TW) .sans {
                font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif,
                    "Segoe UI Emoji", "Segoe UI Symbol", "Twemoji", "Noto Color Emoji", "Noto Sans CJK TC";
            }
            .pdf:lang(ko-KR) .sans {
                font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif,
                    "Segoe UI Emoji", "Segoe UI Symbol", "Twemoji", "Noto Color Emoji", "Noto Sans CJK KR";
            }
            .pdf .code {
                font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, "Twemoji", "Noto Color Emoji",
                    "Noto Sans Mono CJK JP";
            }
            .pdf:lang(zh-CN) .code {
                font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, "Twemoji", "Noto Color Emoji",
                    "Noto Sans Mono CJK SC";
            }
            .pdf:lang(zh-TW) .code {
                font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, "Twemoji", "Noto Color Emoji",
                    "Noto Sans Mono CJK TC";
            }
            .pdf:lang(ko-KR) .code {
                font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, "Twemoji", "Noto Color Emoji",
                    "Noto Sans Mono CJK KR";
            }
            .pdf .serif {
                font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, "Twemoji", "Noto Color Emoji", "Noto Serif CJK JP";
            }
            .pdf:lang(zh-CN) .serif {
                font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, "Twemoji", "Noto Color Emoji", "Noto Serif CJK SC";
            }
            .pdf:lang(zh-TW) .serif {
                font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, "Twemoji", "Noto Color Emoji", "Noto Serif CJK TC";
            }
            .pdf:lang(ko-KR) .serif {
                font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, "Twemoji", "Noto Color Emoji", "Noto Serif CJK KR";
            }
            .pdf .mono {
                font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, "Twemoji", "Noto Color Emoji", "Noto Sans Mono CJK JP";
            }
            .pdf:lang(zh-CN) .mono {
                font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, "Twemoji", "Noto Color Emoji", "Noto Sans Mono CJK SC";
            }
            .pdf:lang(zh-TW) .mono {
                font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, "Twemoji", "Noto Color Emoji", "Noto Sans Mono CJK TC";
            }
            .pdf:lang(ko-KR) .mono {
                font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, "Twemoji", "Noto Color Emoji", "Noto Sans Mono CJK KR";
            }
            .highlight-default {
                color: rgba(55, 53, 47, 1);
            }
            .highlight-gray {
                color: rgba(120, 119, 116, 1);
                fill: rgba(120, 119, 116, 1);
            }
            .highlight-brown {
                color: rgba(159, 107, 83, 1);
                fill: rgba(159, 107, 83, 1);
            }
            .highlight-orange {
                color: rgba(217, 115, 13, 1);
                fill: rgba(217, 115, 13, 1);
            }
            .highlight-yellow {
                color: rgba(203, 145, 47, 1);
                fill: rgba(203, 145, 47, 1);
            }
            .highlight-teal {
                color: rgba(68, 131, 97, 1);
                fill: rgba(68, 131, 97, 1);
            }
            .highlight-blue {
                color: rgba(51, 126, 169, 1);
                fill: rgba(51, 126, 169, 1);
            }
            .highlight-purple {
                color: rgba(144, 101, 176, 1);
                fill: rgba(144, 101, 176, 1);
            }
            .highlight-pink {
                color: rgba(193, 76, 138, 1);
                fill: rgba(193, 76, 138, 1);
            }
            .highlight-red {
                color: rgba(212, 76, 71, 1);
                fill: rgba(212, 76, 71, 1);
            }
            .highlight-gray_background {
                background: rgba(241, 241, 239, 1);
            }
            .highlight-brown_background {
                background: rgba(244, 238, 238, 1);
            }
            .highlight-orange_background {
                background: rgba(251, 236, 221, 1);
            }
            .highlight-yellow_background {
                background: rgba(251, 243, 219, 1);
            }
            .highlight-teal_background {
                background: rgba(237, 243, 236, 1);
            }
            .highlight-blue_background {
                background: rgba(231, 243, 248, 1);
            }
            .highlight-purple_background {
                background: rgba(244, 240, 247, 0.8);
            }
            .highlight-pink_background {
                background: rgba(249, 238, 243, 0.8);
            }
            .highlight-red_background {
                background: rgba(253, 235, 236, 1);
            }
            .block-color-default {
                color: inherit;
                fill: inherit;
            }
            .block-color-gray {
                color: rgba(120, 119, 116, 1);
                fill: rgba(120, 119, 116, 1);
            }
            .block-color-brown {
                color: rgba(159, 107, 83, 1);
                fill: rgba(159, 107, 83, 1);
            }
            .block-color-orange {
                color: rgba(217, 115, 13, 1);
                fill: rgba(217, 115, 13, 1);
            }
            .block-color-yellow {
                color: rgba(203, 145, 47, 1);
                fill: rgba(203, 145, 47, 1);
            }
            .block-color-teal {
                color: rgba(68, 131, 97, 1);
                fill: rgba(68, 131, 97, 1);
            }
            .block-color-blue {
                color: rgba(51, 126, 169, 1);
                fill: rgba(51, 126, 169, 1);
            }
            .block-color-purple {
                color: rgba(144, 101, 176, 1);
                fill: rgba(144, 101, 176, 1);
            }
            .block-color-pink {
                color: rgba(193, 76, 138, 1);
                fill: rgba(193, 76, 138, 1);
            }
            .block-color-red {
                color: rgba(212, 76, 71, 1);
                fill: rgba(212, 76, 71, 1);
            }
            .block-color-gray_background {
                background: rgba(241, 241, 239, 1);
            }
            .block-color-brown_background {
                background: rgba(244, 238, 238, 1);
            }
            .block-color-orange_background {
                background: rgba(251, 236, 221, 1);
            }
            .block-color-yellow_background {
                background: rgba(251, 243, 219, 1);
            }
            .block-color-teal_background {
                background: rgba(237, 243, 236, 1);
            }
            .block-color-blue_background {
                background: rgba(231, 243, 248, 1);
            }
            .block-color-purple_background {
                background: rgba(244, 240, 247, 0.8);
            }
            .block-color-pink_background {
                background: rgba(249, 238, 243, 0.8);
            }
            .block-color-red_background {
                background: rgba(253, 235, 236, 1);
            }
            .select-value-color-interactiveBlue {
                background-color: rgba(35, 131, 226, 0.07);
            }
            .select-value-color-pink {
                background-color: rgba(245, 224, 233, 1);
            }
            .select-value-color-purple {
                background-color: rgba(232, 222, 238, 1);
            }
            .select-value-color-green {
                background-color: rgba(219, 237, 219, 1);
            }
            .select-value-color-gray {
                background-color: rgba(227, 226, 224, 1);
            }
            .select-value-color-translucentGray {
                background-color: rgba(255, 255, 255, 0.0375);
            }
            .select-value-color-orange {
                background-color: rgba(250, 222, 201, 1);
            }
            .select-value-color-brown {
                background-color: rgba(238, 224, 218, 1);
            }
            .select-value-color-red {
                background-color: rgba(255, 226, 221, 1);
            }
            .select-value-color-yellow {
                background-color: rgba(253, 236, 200, 1);
            }
            .select-value-color-blue {
                background-color: rgba(211, 229, 239, 1);
            }
            .select-value-color-pageGlass {
                background-color: undefined;
            }
            .select-value-color-washGlass {
                background-color: undefined;
            }

            .checkbox {
                display: inline-flex;
                vertical-align: text-bottom;
                width: 16;
                height: 16;
                background-size: 16px;
                margin-left: 2px;
                margin-right: 5px;
            }

            .checkbox-on {
                background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
            }

            .checkbox-off {
                background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
            }

            /* -------- injections from notionBackup -------- */

            body {
                white-space: normal !important;
            }

            p {
                min-height: 1em !important;
            }

            .code,
            code {
                font-size: 100% !important;
            }

            blockquote {
                font-size: 100% !important;
            }

            .callout {
                white-space: normal !important;
            }
            .callout div:has(span.icon) {
                font-size: 100% !important;
            }

            .source:not(.bookmark) {
                font-size: 100% !important;
            }

            p {
                min-height: 1em !important;
            }
        </style>
    </head>
    <body>
        <article class="page sans">
            <header>
                <h1 class="page-title">Mutual Exclusion, Condition Synchronization</h1>
                <p class="page-description"></p>
            </header>
            <div class="page-body">
                <figure class="block-color-gray_background callout" style="white-space: pre-wrap; display: flex">
                    <div style="font-size: 1.5em"><span class="icon">💡</span></div>
                    <div style="width: 100%">Abstraktion darüber ob Prozess oder Thread</div>
                </figure>
                <figure class="link-to-page">
                    <a
                        href="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Semaphoren%20Patterns%20ab7ddee9f9214711976eee0832ee4282.html">
                        <span class="icon">📎</span>
                        Semaphoren Patterns
                    </a>
                </figure>
                <p></p>
                <nav class="block-color-gray table_of_contents">
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#ab35ace7-4b5c-46c4-9d7a-60b1181e47a7">Motivation</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#18816daa-4b90-4fa1-aa35-eab156344fd3">____________</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#7943b766-17b3-4dbf-ad92-19d5df60206b">Mutual Exclusion</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#e89e51a4-c1b3-4bc4-b966-0f8cd9a69c2a">Software-Lösungen</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-2">
                        <a class="table_of_contents-link" href="#0f9bbc11-ae5a-44ed-b421-f2be9c38e73d">
                            <mark class="highlight-blue">Dekker-Algorithmus</mark>
                        </a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-2">
                        <a class="table_of_contents-link" href="#bb7806e5-a0b0-4907-b571-1102e7bfde34">
                            <mark class="highlight-blue">Peterson-Algorithmus</mark>
                        </a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-2">
                        <a class="table_of_contents-link" href="#6e7595ab-b60f-4b33-9945-63a781cde519">
                            <mark class="highlight-blue">Bakery Algorithm (für</mark>
                            <mark class="highlight-blue">
                                <style>
                                    @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                </style>
                                <span
                                    data-token-index="0"
                                    contenteditable="false"
                                    class="notion-text-equation-token"
                                    style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                    <span></span>
                                    <span>
                                        <span class="katex">
                                            <span class="katex-mathml">
                                                <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                    <semantics>
                                                        <mrow><mi>n</mi></mrow>
                                                        <annotation encoding="application/x-tex">n</annotation>
                                                    </semantics>
                                                </math>
                                            </span>
                                            <span class="katex-html" aria-hidden="true">
                                                <span class="base">
                                                    <span class="strut" style="height: 0.43056em; vertical-align: 0em"></span>
                                                    <span class="mord mathnormal">n</span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span>﻿</span>
                                </span>
                            </mark>
                            <mark class="highlight-blue">Prozesse)</mark>
                        </a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#1ac60bc4-e2a9-4a7a-a62b-5357680ff216">Hardwareunterstützte Lösungen</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-2">
                        <a class="table_of_contents-link" href="#12c76df6-365f-4f04-b96d-2b5b854c6ae1">
                            <mark class="highlight-blue">Interrupt Disabling</mark>
                        </a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-2">
                        <a class="table_of_contents-link" href="#a1641522-f733-4516-ad6d-1815dfbf3b2f"><mark class="highlight-blue">Test and Set</mark></a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-2">
                        <a class="table_of_contents-link" href="#c3c68966-84f0-4f08-bf56-1dbfa3e249fd"><mark class="highlight-blue">Exchange / Swap</mark></a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#c20d644c-9151-4a85-8a64-9b993ae55dfa">Semaphore</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#478178f5-5257-406b-af65-cfc0f681968c">____________</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#691e8f18-170c-43fb-b82c-8c6beb706673">Condition Synchronization</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#2a5f5e97-04f2-4294-bad1-00ac6b21a2ca">Semaphore</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#5e5e564a-6fbc-4b72-a789-42a439002937">____________</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-0">
                        <a class="table_of_contents-link" href="#b86015a1-58a9-42e4-890f-3e102eb81559">Höhere Synchronisations-Konstrukte</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#42fe70f2-6236-4002-a298-33a9acab5996">Semaphore</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#d45624de-cb0f-4a24-a748-3aa8de8a482a">Monitore</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#a3baf892-2e33-42d7-9b09-9553c1352080">Message Passing / Nachrichten</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#f9f50cc6-1bea-4c69-abd5-d84fe563fdbc">Lock</a>
                    </div>
                    <div class="table_of_contents-item table_of_contents-indent-1">
                        <a class="table_of_contents-link" href="#12b5971c-1e08-40d1-900d-0f3e542793dd">Sequencer und Eventcounts</a>
                    </div>
                </nav>
                <h1>Motivation</h1>
                <p>
                    <mark class="highlight-blue">Competition</mark>
                    Prozesse stehen im Wettkampf um gemeinsame Ressourcen
                </p>
                <p>
                    <mark class="highlight-blue">Shared Resources</mark>
                    Daten in shared memory, Kontrolle, Peripherals
                </p>
                <p></p>
                <p>Ohne geregelte Ressourcenvergabe entstehen:</p>
                <p><mark class="highlight-blue">Deadlock</mark></p>
                <div class="indented">
                    <p>Circular Wait:</p>
                    <p>P1 besitzt R1 und braucht R2, P2 besitzt R2 und braucht R1</p>
                </div>
                <p></p>
                <p><mark class="highlight-blue">Lifelock</mark></p>
                <div class="indented">
                    <p>Kein Fortschritt - Programm nicht vollständig ausgeführt sondern immer dieselben Instructions.</p>
                    <p>zB "After you"</p>
                </div>
                <p></p>
                <p><mark class="highlight-blue">Starvation</mark></p>
                <div class="indented"><p>P1 und P2 laufen abwechselnd auf CPU, P3 verhungert</p></div>
                <p></p>
                <p><mark class="highlight-blue">Race Condition</mark></p>
                <div class="indented"><p>Ergebnisse Abhängig von Ausführungsreihenfolge / execution order.</p></div>
                <p></p>
                <p></p>
                <p>Bsp Race Condition</p>
                <div class="column-list">
                    <div style="width: 50%" class="column">
                        <figure class="image">
                            <a href="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled.png">
                                <img
                                    style="width: 336px"
                                    src="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled.png" />
                            </a>
                            <figcaption>A: copy, increment B: copy, decrement</figcaption>
                        </figure>
                        <p>Datenkonsistenz wäre möglich indem Prozesse atomar abgearbeitet werden müssen</p>
                    </div>
                    <div style="width: 50%" class="column">
                        <figure class="image">
                            <a href="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled%201.png">
                                <img
                                    style="width: 336px"
                                    src="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled%201.png" />
                            </a>
                            <figcaption>
                                <mark class="highlight-gray"><code>ShM</code></mark>
                                <mark class="highlight-gray"></mark>
                                steht für shared memory A: modify
                                <mark class="highlight-gray"><code>t</code></mark>
                                <mark class="highlight-gray">,</mark>
                                <mark class="highlight-gray"><code>ShM := t</code></mark>
                                , A:
                                <mark class="highlight-gray"><code>t := ShM</code></mark>
                                , read
                                <mark class="highlight-gray"><code>t</code></mark>
                            </figcaption>
                        </figure>
                        <p>Reihenfolge könnte festgelegt werden indem sich A und B immer abwechseln müssen und atomar abgearbeitet werden müssen.</p>
                    </div>
                </div>
                <h1>____________</h1>
                <h1>Mutual Exclusion</h1>
                <p><mark class="highlight-blue">Definition: Kritischer Abschnitt</mark></p>
                <p>Programm-Abschnitt in der Prozesse auf gemeinsame Ressourcen zugreifen können.</p>
                <p>An jedem Zeitpunkt darf sich höchstens 1 Prozess darin befinden.</p>
                <p>Regelung durch Prolog / Epilog bei kritischem Abschnitt.</p>
                <figure class="image">
                    <a href="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled%202.png">
                        <img style="width: 192px" src="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled%202.png" />
                    </a>
                </figure>
                <p></p>
                <p></p>
                <p>
                    Wir wollen Daten-Konsistenz bei shared Memory
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mo>→</mo></mrow>
                                            <annotation encoding="application/x-tex">\rarr</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.36687em; vertical-align: 0em"></span>
                                        <span class="mrel">→</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    kein "gleichzeitiger" Zugriff auf kritischen Abschnitt.
                </p>
                <p>Anforderungen:</p>
                <ol type="1" class="numbered-list" start="1">
                    <li>
                        <mark class="highlight-blue">Wechselseitiger Ausschluss vom kritischen Abschnitt</mark>
                        <p>Bewirkt Daten-Konsistenz bei shared Memory</p>
                        <p>Ermöglicht durch atomaren Instruktionssequenzen</p>
                    </li>
                </ol>
                <ol type="1" class="numbered-list" start="2">
                    <li>
                        <mark class="highlight-blue">Progress / kein Lifelock</mark>
                        <p>
                            Wenn kritischer Abschnitt leer, muss in endlicher Zeit entschieden werden welcher Prozess zuerst eintritt
                            <mark class="highlight-gray">- kein "After You"</mark>
                        </p>
                    </li>
                </ol>
                <ol type="1" class="numbered-list" start="3">
                    <li>
                        <mark class="highlight-blue">Bounded waiting / keine Starvation</mark>
                        <p>Nachdem ein Prozess request für Eintritt in ein Abschnitt abgegeben hat können andere nur beschränkt oft ankommen.</p>
                    </li>
                </ol>
                <p></p>
                <h2>Software-Lösungen</h2>
                <figure class="block-color-gray_background callout" style="white-space: pre-wrap; display: flex">
                    <div style="font-size: 1.5em"><span class="icon">💡</span></div>
                    <div style="width: 100%">Annahme: Atomare r/w-Operationen auf dem Speicher</div>
                </figure>
                <p>
                    <mark class="highlight-blue">Busy Waiting</mark>
                    Beim Warten werden Test-instructions ausgeführt wie
                    <mark class="highlight-gray"></mark>
                    <mark class="highlight-gray"><code>while x != true do nothing</code></mark>
                </p>
                <p></p>
                <h3><mark class="highlight-blue">Dekker-Algorithmus</mark></h3>
                <p>
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mi>i</mi></mrow>
                                            <annotation encoding="application/x-tex">i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.65952em; vertical-align: 0em"></span>
                                        <span class="mord mathnormal">i</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    oder
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mi>j</mi></mrow>
                                            <annotation encoding="application/x-tex">j</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.85396em; vertical-align: -0.19444em"></span>
                                        <span class="mord mathnormal" style="margin-right: 0.05724em">j</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    im Code können entweder für die Zahl
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mn>0</mn></mrow>
                                            <annotation encoding="application/x-tex">0</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                        <span class="mord">0</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    oder
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mn>1</mn></mrow>
                                            <annotation encoding="application/x-tex">1</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                        <span class="mord">1</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    stehen.
                </p>
                <ul class="toggle">
                    <li>
                        <details open="">
                            <summary><mark class="highlight-gray">Attempt 1</mark></summary>
                            <p>Global</p>
                            <div class="indented">
                                <pre class="code"><code>	var turn: 0..1; //can be initialized to either 0 or 1</code></pre>
                            </div>
                            <p></p>
                            <p>
                                Process
                                <style>
                                    @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                </style>
                                <span
                                    data-token-index="0"
                                    contenteditable="false"
                                    class="notion-text-equation-token"
                                    style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                    <span></span>
                                    <span>
                                        <span class="katex">
                                            <span class="katex-mathml">
                                                <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                    <semantics>
                                                        <mrow>
                                                            <msub>
                                                                <mi>P</mi>
                                                                <mi>i</mi>
                                                            </msub>
                                                        </mrow>
                                                        <annotation encoding="application/x-tex">P_i</annotation>
                                                    </semantics>
                                                </math>
                                            </span>
                                            <span class="katex-html" aria-hidden="true">
                                                <span class="base">
                                                    <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                                    <span class="mord">
                                                        <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                                        <span class="msupsub">
                                                            <span class="vlist-t vlist-t2">
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.31166399999999994em">
                                                                        <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                            <span class="pstrut" style="height: 2.7em"></span>
                                                                            <span class="sizing reset-size6 size3 mtight">
                                                                                <span class="mord mathnormal mtight">i</span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                    <span class="vlist-s">​</span>
                                                                </span>
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.15em"><span></span></span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span>﻿</span>
                                </span>
                            </p>
                            <div class="indented">
                                <pre class="code"><code>while turn != i do nothing;
... critical section
turn = j;
... remainder section</code></pre>
                            </div>
                            <p></p>
                            <p>Resultat</p>
                            <div class="indented">
                                <p>
                                    Mutual exclusion aber auch erzwungene execution order (
                                    <style>
                                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                    </style>
                                    <span
                                        data-token-index="0"
                                        contenteditable="false"
                                        class="notion-text-equation-token"
                                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                        <span></span>
                                        <span>
                                            <span class="katex">
                                                <span class="katex-mathml">
                                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                        <semantics>
                                                            <mrow><mi>i</mi></mrow>
                                                            <annotation encoding="application/x-tex">i</annotation>
                                                        </semantics>
                                                    </math>
                                                </span>
                                                <span class="katex-html" aria-hidden="true">
                                                    <span class="base">
                                                        <span class="strut" style="height: 0.65952em; vertical-align: 0em"></span>
                                                        <span class="mord mathnormal">i</span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                        <span>﻿</span>
                                    </span>
                                    und
                                    <style>
                                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                    </style>
                                    <span
                                        data-token-index="0"
                                        contenteditable="false"
                                        class="notion-text-equation-token"
                                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                        <span></span>
                                        <span>
                                            <span class="katex">
                                                <span class="katex-mathml">
                                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                        <semantics>
                                                            <mrow><mi>j</mi></mrow>
                                                            <annotation encoding="application/x-tex">j</annotation>
                                                        </semantics>
                                                    </math>
                                                </span>
                                                <span class="katex-html" aria-hidden="true">
                                                    <span class="base">
                                                        <span class="strut" style="height: 0.85396em; vertical-align: -0.19444em"></span>
                                                        <span class="mord mathnormal" style="margin-right: 0.05724em">j</span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                        <span>﻿</span>
                                    </span>
                                    abwechselnd).
                                </p>
                                <p>Wir wollen nicht immer eine condition synchronization haben.</p>
                            </div>
                            <p></p>
                            <p></p>
                        </details>
                    </li>
                </ul>
                <ul class="toggle">
                    <li>
                        <details open="">
                            <summary><mark class="highlight-gray">Attempt 2</mark></summary>
                            <p>Global</p>
                            <div class="indented">
                                <pre class="code"><code>flag[i] := false;
flag[j] := false;</code></pre>
                            </div>
                            <p></p>
                            <p>
                                Process
                                <style>
                                    @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                </style>
                                <span
                                    data-token-index="0"
                                    contenteditable="false"
                                    class="notion-text-equation-token"
                                    style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                    <span></span>
                                    <span>
                                        <span class="katex">
                                            <span class="katex-mathml">
                                                <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                    <semantics>
                                                        <mrow>
                                                            <msub>
                                                                <mi>P</mi>
                                                                <mi>i</mi>
                                                            </msub>
                                                        </mrow>
                                                        <annotation encoding="application/x-tex">P_i</annotation>
                                                    </semantics>
                                                </math>
                                            </span>
                                            <span class="katex-html" aria-hidden="true">
                                                <span class="base">
                                                    <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                                    <span class="mord">
                                                        <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                                        <span class="msupsub">
                                                            <span class="vlist-t vlist-t2">
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.31166399999999994em">
                                                                        <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                            <span class="pstrut" style="height: 2.7em"></span>
                                                                            <span class="sizing reset-size6 size3 mtight">
                                                                                <span class="mord mathnormal mtight">i</span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                    <span class="vlist-s">​</span>
                                                                </span>
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.15em"><span></span></span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span>﻿</span>
                                </span>
                            </p>
                            <div class="indented">
                                <pre class="code"><code>while flag[j] do nothing;
//possible process switch here! -&gt; No mutual exclusion
flag[i] := true;
... critical section
flag[i] := false;
... remainder section</code></pre>
                            </div>
                            <p></p>
                            <p>Resultat</p>
                            <div class="indented">
                                <p>Keine erzwungene execution order, aber mutual exclusion nicht gegeben denn:</p>
                                <ol type="1" class="numbered-list" start="1">
                                    <li>
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mi>i</mi></mrow>
                                                                <annotation encoding="application/x-tex">i</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.65952em; vertical-align: 0em"></span>
                                                            <span class="mord mathnormal">i</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        führt Zeile
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mn>1</mn></mrow>
                                                                <annotation encoding="application/x-tex">1</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                                            <span class="mord">1</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        aus und es kommt zu einem process-switch.
                                    </li>
                                </ol>
                                <ol type="1" class="numbered-list" start="2">
                                    <li>
                                        Danach kann
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mi>j</mi></mrow>
                                                                <annotation encoding="application/x-tex">j</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.85396em; vertical-align: -0.19444em"></span>
                                                            <span class="mord mathnormal" style="margin-right: 0.05724em">j</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        auch Zeile
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mn>1</mn></mrow>
                                                                <annotation encoding="application/x-tex">1</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                                            <span class="mord">1</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        ausführen und sie betreten gemeinsam den kritischen Abschnitt
                                    </li>
                                </ol>
                            </div>
                            <p></p>
                            <p></p>
                        </details>
                    </li>
                </ul>
                <ul class="toggle">
                    <li>
                        <details open="">
                            <summary><mark class="highlight-gray">Attempt 3</mark></summary>
                            <p>Global</p>
                            <div class="indented">
                                <pre class="code"><code>flag[i] := false;
flag[j] := false;</code></pre>
                            </div>
                            <p></p>
                            <p>
                                Process
                                <style>
                                    @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                </style>
                                <span
                                    data-token-index="0"
                                    contenteditable="false"
                                    class="notion-text-equation-token"
                                    style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                    <span></span>
                                    <span>
                                        <span class="katex">
                                            <span class="katex-mathml">
                                                <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                    <semantics>
                                                        <mrow>
                                                            <msub>
                                                                <mi>P</mi>
                                                                <mi>i</mi>
                                                            </msub>
                                                        </mrow>
                                                        <annotation encoding="application/x-tex">P_i</annotation>
                                                    </semantics>
                                                </math>
                                            </span>
                                            <span class="katex-html" aria-hidden="true">
                                                <span class="base">
                                                    <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                                    <span class="mord">
                                                        <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                                        <span class="msupsub">
                                                            <span class="vlist-t vlist-t2">
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.31166399999999994em">
                                                                        <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                            <span class="pstrut" style="height: 2.7em"></span>
                                                                            <span class="sizing reset-size6 size3 mtight">
                                                                                <span class="mord mathnormal mtight">i</span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                    <span class="vlist-s">​</span>
                                                                </span>
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.15em"><span></span></span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span>﻿</span>
                                </span>
                            </p>
                            <div class="indented">
                                <pre class="code"><code>flag[i] := true;
//possible process switch here! -&gt; Deadlock
while flag[j] do nothing;
... critical section
flag[i] := false;
... remainder section</code></pre>
                            </div>
                            <p></p>
                            <p>Resultat</p>
                            <div class="indented">
                                <p>Keine erzwungene execution order, mutual exclusion gegeben, aber deadlock möglich:</p>
                                <ol type="1" class="numbered-list" start="1">
                                    <li>
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mi>i</mi></mrow>
                                                                <annotation encoding="application/x-tex">i</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.65952em; vertical-align: 0em"></span>
                                                            <span class="mord mathnormal">i</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        führt Zeile
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mn>1</mn></mrow>
                                                                <annotation encoding="application/x-tex">1</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                                            <span class="mord">1</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        aus und es kommt zu einem process-switch.
                                    </li>
                                </ol>
                                <ol type="1" class="numbered-list" start="2">
                                    <li>
                                        Danach kann
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mi>j</mi></mrow>
                                                                <annotation encoding="application/x-tex">j</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.85396em; vertical-align: -0.19444em"></span>
                                                            <span class="mord mathnormal" style="margin-right: 0.05724em">j</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        auch Zeile
                                        <style>
                                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                        </style>
                                        <span
                                            data-token-index="0"
                                            contenteditable="false"
                                            class="notion-text-equation-token"
                                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                            <span></span>
                                            <span>
                                                <span class="katex">
                                                    <span class="katex-mathml">
                                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                            <semantics>
                                                                <mrow><mn>1</mn></mrow>
                                                                <annotation encoding="application/x-tex">1</annotation>
                                                            </semantics>
                                                        </math>
                                                    </span>
                                                    <span class="katex-html" aria-hidden="true">
                                                        <span class="base">
                                                            <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                                            <span class="mord">1</span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                            <span>﻿</span>
                                        </span>
                                        ausführen und es kann niemand mehr den kritischen Abschnitt betreten
                                    </li>
                                </ol>
                            </div>
                            <p></p>
                            <p></p>
                        </details>
                    </li>
                </ul>
                <ul class="toggle">
                    <li>
                        <details open="">
                            <summary><mark class="highlight-gray">Attempt 4</mark></summary>
                            <p>Global</p>
                            <div class="indented">
                                <pre class="code"><code>flag[i] := false;
flag[j] := false;</code></pre>
                            </div>
                            <p></p>
                            <p>
                                Process
                                <style>
                                    @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                                </style>
                                <span
                                    data-token-index="0"
                                    contenteditable="false"
                                    class="notion-text-equation-token"
                                    style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                                    <span></span>
                                    <span>
                                        <span class="katex">
                                            <span class="katex-mathml">
                                                <math xmlns="http://www.w3.org/1998/Math/MathML">
                                                    <semantics>
                                                        <mrow>
                                                            <msub>
                                                                <mi>P</mi>
                                                                <mi>i</mi>
                                                            </msub>
                                                        </mrow>
                                                        <annotation encoding="application/x-tex">P_i</annotation>
                                                    </semantics>
                                                </math>
                                            </span>
                                            <span class="katex-html" aria-hidden="true">
                                                <span class="base">
                                                    <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                                    <span class="mord">
                                                        <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                                        <span class="msupsub">
                                                            <span class="vlist-t vlist-t2">
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.31166399999999994em">
                                                                        <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                            <span class="pstrut" style="height: 2.7em"></span>
                                                                            <span class="sizing reset-size6 size3 mtight">
                                                                                <span class="mord mathnormal mtight">i</span>
                                                                            </span>
                                                                        </span>
                                                                    </span>
                                                                    <span class="vlist-s">​</span>
                                                                </span>
                                                                <span class="vlist-r">
                                                                    <span class="vlist" style="height: 0.15em"><span></span></span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                    <span>﻿</span>
                                </span>
                            </p>
                            <div class="indented">
                                <pre class="code"><code>flag[i] := true;
while flag[j] do {
	flag[i] := false;
	... wait for a short time
	flag[i] := true;
}
...critical section
flag[i] := false;
...remainder section</code></pre>
                            </div>
                            <p></p>
                            <p>Resultat:</p>
                            <div class="indented">
                                <p>Keine erzwungene execution order, mutual exclusion gegeben.</p>
                                <p>
                                    "after you" lifelock möglich wenn sich prozesse nach jeder Zeile abwechseln: Prozess setzt eigenen Flag auf false, falls
                                    beide gleichzeitig true sind und wartet bis anderer Prozess zuerst geht.
                                </p>
                            </div>
                            <p></p>
                        </details>
                    </li>
                </ul>
                <p>Initialisierung</p>
                <pre class="code"><code>flag[i] := false;
flag[j] := false;
turn := 0..1 //can be set to either 0 or 1</code></pre>
                <p>
                    Process
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>P</mi>
                                                    <mi>i</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">P_i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                        <span class="mord">
                                            <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                            <span class="msupsub">
                                                <span class="vlist-t vlist-t2">
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.31166399999999994em">
                                                            <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                <span class="pstrut" style="height: 2.7em"></span>
                                                                <span class="sizing reset-size6 size3 mtight">
                                                                    <span class="mord mathnormal mtight">i</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="vlist-s">​</span>
                                                    </span>
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.15em"><span></span></span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                </p>
                <pre class="code"><code>flag[i] := true;
while (flag[j]) { 					//both flags set to true
	if (turn == j) { 					//it's the other process' turn
		flag[i] := false;
		while turn == j do nothing;
		flag[i] := true;
	}
}
... critical section
turn := j;
flag[i] := false;
... remainder section</code></pre>
                <p>
                    While loop can only be left if
                    <mark class="highlight-gray"><code>!flag[j] &amp;&amp; !(turn == j)</code></mark>
                    but this case will never occur if we only stay within this process.
                </p>
                <p>
                    The other process will flip its own flag to false
                    <mark class="highlight-gray"><code>flag[j] == false</code></mark>
                    <mark class="highlight-gray"></mark>
                    if
                    <mark class="highlight-gray"><code>turn == i</code></mark>
                    and wait.
                </p>
                <p></p>
                <h3><mark class="highlight-blue">Peterson-Algorithmus</mark></h3>
                <p>Gleiche Logik wie Dekker-Algorithmus aber vereinfacht.</p>
                <p>Initialisierung</p>
                <pre class="code"><code>flag[i] := false;
flag[j] := false;
turn := 0..1 //can be set to either 0 or 1</code></pre>
                <p>
                    Process
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>P</mi>
                                                    <mi>i</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">P_i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                        <span class="mord">
                                            <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                            <span class="msupsub">
                                                <span class="vlist-t vlist-t2">
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.31166399999999994em">
                                                            <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                <span class="pstrut" style="height: 2.7em"></span>
                                                                <span class="sizing reset-size6 size3 mtight">
                                                                    <span class="mord mathnormal mtight">i</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="vlist-s">​</span>
                                                    </span>
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.15em"><span></span></span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                </p>
                <pre class="code"><code>while(true) {
	flag[i] := true;
	turn := j;
	while flag[j] and turn = j do nothing;
	...critical section
	flag[i] := false;
	...remainder section
}</code></pre>
                <p>
                    Mutual exclusion: Ab der Zeile
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mn>4</mn></mrow>
                                            <annotation encoding="application/x-tex">4</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                        <span class="mord">4</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    ist mit Sicherheit
                    <mark class="highlight-gray"><code>!flag[j] &amp;&amp; !(turn == j)</code></mark>
                    , ansonsten wartet
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>P</mi>
                                                    <mi>i</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">P_i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                        <span class="mord">
                                            <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                            <span class="msupsub">
                                                <span class="vlist-t vlist-t2">
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.31166399999999994em">
                                                            <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                <span class="pstrut" style="height: 2.7em"></span>
                                                                <span class="sizing reset-size6 size3 mtight">
                                                                    <span class="mord mathnormal mtight">i</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="vlist-s">​</span>
                                                    </span>
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.15em"><span></span></span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    einfach.
                </p>
                <p>
                    Kein Lifelock: Es kann sein dass beide
                    <mark class="highlight-gray"><code>flag</code></mark>
                    <mark class="highlight-gray"></mark>
                    true sind, aber
                    <mark class="highlight-gray"><code>turn</code></mark>
                    kann immer nur für ein Prozess true sein wodurch nur ein Prozess in while schleife warten kann.
                </p>
                <p></p>
                <h3>
                    <mark class="highlight-blue">Bakery Algorithm (für</mark>
                    <mark class="highlight-blue">
                        <style>
                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                        </style>
                        <span
                            data-token-index="0"
                            contenteditable="false"
                            class="notion-text-equation-token"
                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                            <span></span>
                            <span>
                                <span class="katex">
                                    <span class="katex-mathml">
                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                            <semantics>
                                                <mrow><mi>n</mi></mrow>
                                                <annotation encoding="application/x-tex">n</annotation>
                                            </semantics>
                                        </math>
                                    </span>
                                    <span class="katex-html" aria-hidden="true">
                                        <span class="base">
                                            <span class="strut" style="height: 0.43056em; vertical-align: 0em"></span>
                                            <span class="mord mathnormal">n</span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                            <span>﻿</span>
                        </span>
                    </mark>
                    <mark class="highlight-blue">Prozesse)</mark>
                </h3>
                <p>Globale Variablen:</p>
                <pre class="code"><code>choosing: boolean array [0..n-1] //mit false initialisiert
number: int array [0..n-1] //mit 0 initialisiert</code></pre>
                <p>Alle Prozesse erhalten eine Nummer.</p>
                <p></p>
                <p>
                    Prozess
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>P</mi>
                                                    <mi>i</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">P_i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                        <span class="mord">
                                            <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                            <span class="msupsub">
                                                <span class="vlist-t vlist-t2">
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.31166399999999994em">
                                                            <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                <span class="pstrut" style="height: 2.7em"></span>
                                                                <span class="sizing reset-size6 size3 mtight">
                                                                    <span class="mord mathnormal mtight">i</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="vlist-s">​</span>
                                                    </span>
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.15em"><span></span></span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                </p>
                <pre class="code"><code>while (true) {
	choosing[i] := true;
	number[i] := 1 + max(number[0], ..., number[n-1]);
	choosing[i] := false;
	
	for (j := 0 to n-1) do {
		while choosing[j] do nothing;
		while number[j] != 0 &amp;&amp;
				(number[j] != number[i] ? number[j] &lt; number[i] : j &lt; i) do nothing;
	}
	...critical section
	number [i] := 0;
	...remainder section
}</code></pre>
                <p>
                    Nummer
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mn>0</mn></mrow>
                                            <annotation encoding="application/x-tex">0</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                        <span class="mord">0</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    bedeutet Prozess hat keine Anforderungen.
                </p>
                <p>Prozess mit niedrigsten Nummer betritt kritischen Abschnitt zuerst.</p>
                <p>
                    neue Nummern ≥ alte Nummern - gleiche Nummernvergabe möglich wenn mehrere Prozesse hintereinander Zeile
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mn>3</mn></mrow>
                                            <annotation encoding="application/x-tex">3</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                        <span class="mord">3</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    ausführen.
                </p>
                <p></p>
                <h2>Hardwareunterstützte Lösungen</h2>
                <figure class="block-color-gray_background callout" style="white-space: pre-wrap; display: flex">
                    <div style="font-size: 1.5em"><span class="icon">💡</span></div>
                    <div style="width: 100%">Annahme: Atomare Maschinen-Instruktionen</div>
                </figure>
                <h3><mark class="highlight-blue">Interrupt Disabling</mark></h3>
                <p>Interrupt Disabling während kritischen Abschnitt:</p>
                <div class="indented">
                    <p>Nur bei singlecores möglich (da bei multicores echte Parallelität).</p>
                    <p>Für kleine, sichere OS tasks sinnvoll aber nicht für user tasks da man halting nicht prüfen kann.</p>
                </div>
                <p></p>
                <p></p>
                <h3><mark class="highlight-blue">Test and Set</mark></h3>
                <p>Eine einzige hardware instruction die 2 Aktionen atomar ausführt:</p>
                <pre class="code"><code>function testset(i: int): boolean {
	if (i == 0){ 
		i := 1;
		return true;		
	} else {
		return false;
	}
}</code></pre>
                <p>Globale Variable</p>
                <pre class="code"><code>var b: integer;
b := 0;</code></pre>
                <p>
                    Prozess
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>P</mi>
                                                    <mi>i</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">P_i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                        <span class="mord">
                                            <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                            <span class="msupsub">
                                                <span class="vlist-t vlist-t2">
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.31166399999999994em">
                                                            <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                <span class="pstrut" style="height: 2.7em"></span>
                                                                <span class="sizing reset-size6 size3 mtight">
                                                                    <span class="mord mathnormal mtight">i</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="vlist-s">​</span>
                                                    </span>
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.15em"><span></span></span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                </p>
                <pre class="code"><code>while !testset(b) do nothing; //if b == 0, flip b and continue, else do nothing
...critical section
b := 0;
...remainder section</code></pre>
                <p></p>
                <h3><mark class="highlight-blue">Exchange / Swap</mark></h3>
                <p>Vertauscht Werte von 2 Variablen als atomare Instruktionssequenz.</p>
                <p>Globale Variablen</p>
                <pre class="code"><code>int b := 0;</code></pre>
                <p>Lokale Variable - Vorinitialisiert</p>
                <pre class="code"><code>int key := 0;</code></pre>
                <p>
                    Prozess
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>P</mi>
                                                    <mi>i</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">P_i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.83333em; vertical-align: -0.15em"></span>
                                        <span class="mord">
                                            <span class="mord mathnormal" style="margin-right: 0.13889em">P</span>
                                            <span class="msupsub">
                                                <span class="vlist-t vlist-t2">
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.31166399999999994em">
                                                            <span style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em">
                                                                <span class="pstrut" style="height: 2.7em"></span>
                                                                <span class="sizing reset-size6 size3 mtight">
                                                                    <span class="mord mathnormal mtight">i</span>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="vlist-s">​</span>
                                                    </span>
                                                    <span class="vlist-r">
                                                        <span class="vlist" style="height: 0.15em"><span></span></span>
                                                    </span>
                                                </span>
                                            </span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                </p>
                <pre class="code"><code>key := 1;
do exchange(key,b) while (key == 1);
...critical section
exchange(key,b);
...remainder section</code></pre>
                <p>
                    Damit ein Prozess die while Schleife erreicht, muss
                    <mark class="highlight-gray"><code>key := 1</code></mark>
                    sein.
                </p>
                <p>
                    Danach wenn die while Schleife erreicht wird, bestimmt
                    <mark class="highlight-gray"><code>b</code></mark>
                    <mark class="highlight-gray"></mark>
                    ob fortgesetzt wird:
                </p>
                <ul class="bulleted-list">
                    <li style="list-style-type: disc">
                        <mark class="highlight-gray"><code>key := 1, b == 0</code></mark>
                        <mark class="highlight-gray"></mark>
                        - swap →
                        <mark class="highlight-gray"><code>key := 0, b := 1</code></mark>
                        <mark class="highlight-gray"></mark>
                        → continue
                        <p><mark class="highlight-gray">Nach kritischem Abschnitt wird wieder geswapped wodurch anderer Prozess drankommt.</mark></p>
                    </li>
                </ul>
                <ul class="bulleted-list">
                    <li style="list-style-type: disc">
                        <mark class="highlight-gray"><code>key := 1, b == 1</code></mark>
                        <mark class="highlight-gray"></mark>
                        - swap →
                        <mark class="highlight-gray"><code>key := 1, b := 1</code></mark>
                        <mark class="highlight-gray"></mark>
                        - swap →
                        <style>
                            @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                        </style>
                        <span
                            data-token-index="0"
                            contenteditable="false"
                            class="notion-text-equation-token"
                            style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                            <span></span>
                            <span>
                                <span class="katex">
                                    <span class="katex-mathml">
                                        <math xmlns="http://www.w3.org/1998/Math/MathML">
                                            <semantics>
                                                <mrow><mo>…</mo></mrow>
                                                <annotation encoding="application/x-tex">\dots</annotation>
                                            </semantics>
                                        </math>
                                    </span>
                                    <span class="katex-html" aria-hidden="true">
                                        <span class="base">
                                            <span class="strut" style="height: 0.12em; vertical-align: 0em"></span>
                                            <span class="minner">…</span>
                                        </span>
                                    </span>
                                </span>
                            </span>
                            <span>﻿</span>
                        </span>
                    </li>
                </ul>
                <p></p>
                <p>Eigenschaften:</p>
                <p>
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mo>+</mo></mrow>
                                            <annotation encoding="application/x-tex">+</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.66666em; vertical-align: -0.08333em"></span>
                                        <span class="mord">+</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    Einfach und für beliebig viele Prozesse einsetzbar
                </p>
                <p>
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mo>−</mo></mrow>
                                            <annotation encoding="application/x-tex">-</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.66666em; vertical-align: -0.08333em"></span>
                                        <span class="mord">−</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    Starvation möglich → kein bounded waiting
                </p>
                <p>
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mo>−</mo></mrow>
                                            <annotation encoding="application/x-tex">-</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.66666em; vertical-align: -0.08333em"></span>
                                        <span class="mord">−</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    Busy waiting (ineffizient)
                </p>
                <p></p>
                <h2>Semaphore</h2>
                <p>Semaphore müssen für Mutual Exclusion auf 1 initialisiert werden.</p>
                <p>Maximal 1 Prozess im kritischen Abschnitt</p>
                <p>Reihenfolge und bounded waiting / fairness durch FIFO queue gegeben</p>
                <pre class="code"><code>init(S,1);</code></pre>
                <pre class="code"><code>wait(S);
...critical section
signal(S);
...remainder section</code></pre>
                <h1>____________</h1>
                <h1>Condition Synchronization</h1>
                <p>Die Abarbeitungsreihenfolge (execution order) bestimmt Ereignisfolge.</p>
                <p>
                    Nicht eindeutig festgelegt
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mo>→</mo></mrow>
                                            <annotation encoding="application/x-tex">\rarr</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.36687em; vertical-align: 0em"></span>
                                        <span class="mrel">→</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    Race Condition.
                </p>
                <p>Durch Bedingungssynchronisation geben wir die execution order vor.</p>
                <h2>Semaphore</h2>
                <p><mark class="highlight-blue">Beispiel 1: Vorgegebene Reihenfolge</mark></p>
                <p>Ausführung von Code-Abschnitten in 2 Programmen.</p>
                <pre class="code"><code>init(S,0);</code></pre>
                <div class="column-list">
                    <div style="width: 50%" class="column">
                        <pre class="code"><code>while(true){
	...First this
	signal(S);
}</code></pre>
                    </div>
                    <div style="width: 50%" class="column">
                        <pre class="code"><code>while(true){
	wait(S);
	...Then that
}</code></pre>
                    </div>
                </div>
                <p></p>
                <p><mark class="highlight-blue">Beispiel 2: Abwechselnder Zugriff</mark></p>
                <p>Daten werden nicht doppelt gelesen oder geschrieben.</p>
                <p>P1 muss immer vollständig abgearbeitet werden bevor P2 starten kann - aber:</p>
                <div class="indented">
                    <ol type="1" class="numbered-list" start="1">
                        <li>
                            P1 kann nur in das
                            <mark class="highlight-gray"><code>ShM</code></mark>
                            <mark class="highlight-gray"></mark>
                            schreiben, nachdem die
                            <mark class="highlight-gray"><code>ShM</code></mark>
                            <mark class="highlight-gray"></mark>
                            von P2 gelesen wurde.
                        </li>
                    </ol>
                    <ol type="1" class="numbered-list" start="2">
                        <li>P1 kann nur daten generieren, nachdem sie von P2 gelesen wurden.</li>
                    </ol>
                </div>
                <p></p>
                <p>Das besondere an diesem Beispiel:</p>
                <div class="indented">
                    <p>
                        Vorgegebene Abarbeitungsreihenfolge und mutual exclusion bei
                        <mark class="highlight-gray"><code>ShM</code></mark>
                        <mark class="highlight-gray"></mark>
                        wodurch wir Datenkonsistenz haben.
                    </p>
                </div>
                <p></p>
                <pre class="code"><code>init(A,1); init(B,0);</code></pre>
                <div class="column-list">
                    <div style="width: 50%" class="column">
                        <pre class="code"><code>while(true){
	generate data;
	wait(A);
	write ShM;
	signal(B);
}</code></pre>
                    </div>
                    <div style="width: 50%" class="column">
                        <pre class="code"><code>while(true){
	wait(B)
	read ShM;
	signal(A);
	use data;
}</code></pre>
                    </div>
                </div>
                <p>Semaphore B ist gleich wie aus vorherigem Beispiel und A ist umgedreht, damit sie sich abwechseln.</p>
                <p></p>
                <p><mark class="highlight-blue">Beispiel 3: Abwechselnder Zugriff</mark></p>
                <p>Gleich wie davor aber mit 3 Prozessen wobei die lesenden Prozesse parallel abgearbeitet werden sollen können.</p>
                <p></p>
                <p><em>Versuch 1</em></p>
                <p>Keine Parallelität von P2, P3 gegeben - sondern P3 muss immer nach P2 kommen.</p>
                <pre class="code"><code>init(A,1); init(B,0); init(C,0);</code></pre>
                <div class="column-list">
                    <div style="width: 33.333333333333336%" class="column">
                        <pre class="code"><code>while(true){
	generate data;
	wait(A);
	write ShM;
	signal(B);
}</code></pre>
                    </div>
                    <div style="width: 33.33333333333333%" class="column">
                        <pre class="code"><code>while(true){
	wait(B)
	read ShM;
	signal(C);
	use data;
}</code></pre>
                    </div>
                    <div style="width: 33.33333333333334%" class="column">
                        <pre class="code"><code>while(true){
	wait(C)
	read ShM;
	signal(A);
	use data;
}</code></pre>
                    </div>
                </div>
                <p></p>
                <p><em>Versuch 2</em></p>
                <p>Hier lösen wir das Beispiel genau nach dem Schema des vorherigen Beispiels.</p>
                <p>Starvation von P2 oder P3 möglich, da eines von ihnen mehrfach ausgeführt werden kann ohne sich abzuwechseln.</p>
                <pre class="code"><code>init(A,2); init(B,0);</code></pre>
                <div class="column-list">
                    <div style="width: 33.333333333333336%" class="column">
                        <pre class="code"><code>while(true){
	generate data;
	wait(A);
	wait(A);
	write ShM;
	signal(B);
	signal(B);
}</code></pre>
                    </div>
                    <div style="width: 33.333333333333336%" class="column">
                        <pre class="code"><code>while(true){
	wait(B)
	read ShM;
	signal(A);
	use data;
}</code></pre>
                    </div>
                    <div style="width: 33.33333333333333%" class="column">
                        <pre class="code"><code>while(true){
	wait(B)
	read ShM;
	signal(A);
	use data;
}</code></pre>
                    </div>
                </div>
                <p></p>
                <p><em>Lösung</em></p>
                <p>Kleine Abänderung um Starvation zu vermeiden</p>
                <pre class="code"><code>init(A,2); init(B1,0); init(B2,0);</code></pre>
                <div class="column-list">
                    <div style="width: 33.333333333333336%" class="column">
                        <pre class="code"><code>while(true){
	generate data;
	wait(A);
	wait(A);
	write ShM;
	signal(B1);
	signal(B2);
}</code></pre>
                    </div>
                    <div style="width: 33.333333333333336%" class="column">
                        <pre class="code"><code>while(true){
	wait(B1)
	read ShM;
	signal(A);
	use data;
}</code></pre>
                    </div>
                    <div style="width: 33.33333333333333%" class="column">
                        <pre class="code"><code>while(true){
	wait(B2)
	read ShM;
	signal(A);
	use data;
}</code></pre>
                    </div>
                </div>
                <h1>____________</h1>
                <h1>Höhere Synchronisations-Konstrukte</h1>
                <h2>Semaphore</h2>
                <p>Von OS zur Verfügung gestellt.</p>
                <p>Wir vermeiden busy waiting - Prozesse warten in blocked queues bis ein Event auftritt.</p>
                <figure class="link-to-page">
                    <a
                        href="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Semaphoren%20Patterns%20ab7ddee9f9214711976eee0832ee4282.html">
                        <span class="icon">📎</span>
                        Semaphoren Patterns
                    </a>
                </figure>
                <p></p>
                <p><mark class="highlight-blue">Implementierung</mark></p>
                <ul class="toggle">
                    <li>
                        <details open="">
                            <summary><mark class="highlight-gray">Detailiert</mark></summary>
                            <pre class="code"><code>type semaphore = record
										value: integer; //auch count genannt
										queue: list of processes;
									end;</code></pre>
                            <pre class="code"><code>init(S, val):
	S.value := val;
	S.queue := empty list;</code></pre>
                            <pre class="code"><code>wait(S):
	S.value := S.value - 1;
	if (S.value &lt; 0) {
		...add this process to S.queue and block it;
	}
	</code></pre>
                            <pre class="code"><code>signal(S):
	S.value := S.value + 1;
	if (S.value &lt;= 0) {
		...remove a process P from S.queue and place on ready queue;
	}</code></pre>
                        </details>
                    </li>
                </ul>
                <p>
                    Die Funktionen
                    <mark class="highlight-gray"><code>wait(S)</code></mark>
                    <mark class="highlight-gray">/</mark>
                    <code><mark class="highlight-gray">P(S)</mark></code>
                    ,
                    <mark class="highlight-gray"><code>signal(S)</code></mark>
                    <mark class="highlight-gray">/</mark>
                    <code><mark class="highlight-gray">V(S)</mark></code>
                    <mark class="highlight-gray"></mark>
                    sind atomare Instruktionssequenzen ausgeführt werden.
                </p>
                <div class="indented">
                    <p>
                        Weil kurz und unwahrscheinlich, dass sie unterbrochen werden, nutzt man eine
                        <mark class="highlight-gray"><code>flag</code></mark>
                        s in der record-Datenstruktur und testet mit busy-waiting.
                    </p>
                </div>
                <p></p>
                <p></p>
                <p><mark class="highlight-blue">Variationen in der Implementierung</mark></p>
                <p>
                    <mark class="highlight-gray"><code>S.value</code></mark>
                    <mark class="highlight-gray"></mark>
                    = #Prozesse die hintereinander
                    <mark class="highlight-gray"><code>wait(S)</code></mark>
                    ausführen können, ohne zu blockieren.
                </p>
                <p>
                    Wenn
                    <mark class="highlight-gray"><code>S.value &lt; 0</code></mark>
                    ist
                    <mark class="highlight-gray"><code>|S.value|</code></mark>
                    <mark class="highlight-gray"></mark>
                    die Anzahl der Prozesse die in der blockierten Queue sind.
                </p>
                <div class="indented">
                    <p>Binary Semaphore Nur Werte 0 oder 1 - value wird nicht negativ.</p>
                    <p>Counting Semaphore value kann beliebige Werte annehmen.</p>
                </div>
                <p></p>
                <p></p>
                <p><mark class="highlight-blue">Probleme</mark></p>
                <p>kompliziert, unübersichtlich, schwer lesbar</p>
                <p>Debuggen schwer da über Programm-Code verstreut</p>
                <p>Operationen müssen entweder alle korrekt verwendet werden oder alle voneinander abhängigen Prozesse zeigen fehlferhalten.</p>
                <p></p>
                <h2>Monitore</h2>
                <div class="column-list">
                    <div style="width: 81.25%" class="column">
                        <p>Software-Modul, dass alles was zu Synchronisation und Mutual Exclusion gehört bündelt - beinhaltet:</p>
                        <div class="indented">
                            <p>Prozeduren</p>
                            <p>Lokale Daten</p>
                            <p>Initialisierungscode</p>
                        </div>
                        <p></p>
                    </div>
                    <div style="width: 18.75%" class="column">
                        <figure class="image">
                            <a href="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled%203.png">
                                <img
                                    style="width: 288px"
                                    src="Mutual%20Exclusion,%20Condition%20Synchronization%20c9a796adbddf4b84aff54fa6efbde582/Untitled%203.png" />
                            </a>
                        </figure>
                    </div>
                </div>
                <p><mark class="highlight-blue">Zugriffsfunktionen</mark></p>
                <p>
                    <mark class="highlight-gray"><code>cwait(c)</code></mark>
                    <mark class="highlight-gray"></mark>
                    blockiert ausführenden / aufrufenden Prozess, bis
                    <mark class="highlight-gray"><code>c == true</code></mark>
                </p>
                <p>
                    <mark class="highlight-gray"><code>csignal(c)</code></mark>
                    <mark class="highlight-gray"></mark>
                    setzt einen wartenden Prozess fort
                </p>
                <p></p>
                <p><mark class="highlight-blue">Unterschiede zu Semaphoren</mark></p>
                <p>Compartmentalization</p>
                <p>Automatische mutual exclusion</p>
                <div class="indented">
                    <p>Man kann auf lokale Variablen nur über Monitor-Funktionen zugreifen - es darf max. nur 1 Prozess im Monitorprogrammcode sein.</p>
                </div>
                <p></p>
                <p>
                    <mark class="highlight-gray"><code>csignal</code></mark>
                    <mark class="highlight-gray"></mark>
                    macht nichts wenn es keinen wartenden Prozess gibt - keine Speichernde Wirkung.
                </p>
                <div class="indented"><p>Semaphoren im Gegensatz erhöhen den value.</p></div>
                <p></p>
                <p></p>
                <p><mark class="highlight-blue">Beispiel: Producer-Consumer Problem</mark></p>
                <p>
                    Monitor Datei:
                    <mark class="highlight-gray"><code>ProducerConsumer</code></mark>
                </p>
                <pre class="code"><code>b: array[0..K-1] of items;
In := 0, Out := 0, count := 0 : integer;
notfull, notempty: condition;</code></pre>
                <div class="column-list">
                    <div style="width: 50%" class="column">
                        <pre class="code"><code>append(v):
	if (count = K) cwait(notfull);
	b[In] := v;
	In := (In + 1) mod K;
	count++;
	csignal(notempty);</code></pre>
                    </div>
                    <div style="width: 50%" class="column">
                        <pre class="code"><code>take(v):
	if (count = 0) cwait(notempty);
	v := b[Out];
	Out := (Out + 1) mod K;
	count--;
	csignal(notfull);</code></pre>
                    </div>
                </div>
                <p></p>
                <h2>Message Passing / Nachrichten</h2>
                <p>Methode zur Interprozesskommunikation IPC für einzelne Computer und verteilte Systeme.</p>
                <p>Nachrichten versichern Datenkonsistenz und sind atomare Datenstrukturen:</p>
                <div class="indented"><p>Es sind entweder gar keine Daten da oder konsistente.</p></div>
                <p></p>
                <p>Es gibt eine Queue für empfangene Daten</p>
                <p></p>
                <p>
                    <mark class="highlight-blue">Senden</mark>
                    <mark class="highlight-gray"><code>send(destination, message)</code></mark>
                </p>
                <p>Es können mehrere oder ein einziger Empfänder adressiert werden.</p>
                <p>Es ist auch möglich direkt (Mailbox) oder indirekt (Portadresse) Nachrichten zu versenden.</p>
                <div class="indented">
                    <p>blocking Blockiere so lange an Sendeoperation bis Empfänger die Nachricht erhalten hat.</p>
                    <p>non-blocking Setzte auch fort wenn unklar ob Nachricht erhalten wurde.</p>
                </div>
                <p></p>
                <p></p>
                <p>
                    <mark class="highlight-blue">Empfangen</mark>
                    <mark class="highlight-gray"></mark>
                    <mark class="highlight-gray"><code>receive(source, message)</code></mark>
                </p>
                <p>Empfangene Daten können in einer Queue gespeichert werden (Ereignissemantik) oder alte empfangene Daten überschreiben (Zustandssemantik).</p>
                <div class="indented">
                    <p>blocking Blockiere so lange an dieser Operation bis eine Nachricht angekommen ist</p>
                    <p>non-blocking</p>
                    <p>test for arrival</p>
                </div>
                <p></p>
                <p></p>
                <p><mark class="highlight-blue">Beispiel</mark></p>
                <p>
                    Gemeinsame mailbox
                    <mark class="highlight-gray"><code>mutex</code></mark>
                    <mark class="highlight-gray"></mark>
                    wird von mehreren Prozessen benutzt um eine blockierende Nachricht zu schicken und zu erhalten.
                </p>
                <pre class="code"><code>init: send(mutex, msg);</code></pre>
                <pre class="code"><code>while(true){
	receive(mutex, msg); //blocking receive 
	...critical section
	send(mutex, msg); //non-blocking send
	...remainder section
}</code></pre>
                <p></p>
                <h2>Lock</h2>
                <p>
                    <mark class="highlight-gray"><code>enter(lock)</code></mark>
                    blockiert nachfolgende enter-Aufrufe
                </p>
                <p>
                    <mark class="highlight-gray"><code>release(lock)</code></mark>
                    gibt lock frei
                </p>
                <p></p>
                <h2>Sequencer und Eventcounts</h2>
                <p><mark class="highlight-blue">Eventcount E</mark></p>
                <p>
                    <mark class="highlight-gray"><code>advance(E)</code></mark>
                    <mark class="highlight-gray"><code>E++</code></mark>
                    (wobei Anfangswert immer 0)
                </p>
                <p>
                    <mark class="highlight-gray"><code>await(E, val)</code></mark>
                    blockiert bis
                    <mark class="highlight-gray"><code>E &gt;= val</code></mark>
                </p>
                <p></p>
                <p><mark class="highlight-blue">Sequencer S</mark></p>
                <p>
                    <mark class="highlight-gray"><code>ticket(S)</code></mark>
                    retourniert
                    <mark class="highlight-gray"><code>S</code></mark>
                    und executed
                    <mark class="highlight-gray"><code>S++</code></mark>
                </p>
                <p></p>
                <p>Beispiel: Mutual exclusion</p>
                <pre class="code"><code>myticket = ticket(S);
await(E, myticket);
...critical section
advance(E);</code></pre>
                <p>
                    Dadurch dass, der vorgänger-Prozess von
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow><mi>i</mi></mrow>
                                            <annotation encoding="application/x-tex">i</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.65952em; vertical-align: 0em"></span>
                                        <span class="mord mathnormal">i</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    immer ein
                    <mark class="highlight-gray"><code>myticket</code></mark>
                    erhält mit dem Wert
                    <style>
                        @import url("https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css");
                    </style>
                    <span
                        data-token-index="0"
                        contenteditable="false"
                        class="notion-text-equation-token"
                        style="user-select: all; -webkit-user-select: all; -moz-user-select: all">
                        <span></span>
                        <span>
                            <span class="katex">
                                <span class="katex-mathml">
                                    <math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>i</mi>
                                                <mo>−</mo>
                                                <mn>1</mn>
                                            </mrow>
                                            <annotation encoding="application/x-tex">i-1</annotation>
                                        </semantics>
                                    </math>
                                </span>
                                <span class="katex-html" aria-hidden="true">
                                    <span class="base">
                                        <span class="strut" style="height: 0.74285em; vertical-align: -0.08333em"></span>
                                        <span class="mord mathnormal">i</span>
                                        <span class="mspace" style="margin-right: 0.2222222222222222em"></span>
                                        <span class="mbin">−</span>
                                        <span class="mspace" style="margin-right: 0.2222222222222222em"></span>
                                    </span>
                                    <span class="base">
                                        <span class="strut" style="height: 0.64444em; vertical-align: 0em"></span>
                                        <span class="mord">1</span>
                                    </span>
                                </span>
                            </span>
                        </span>
                        <span>﻿</span>
                    </span>
                    funktioniert dieser Code.
                </p>
                <p></p>
            </div>
        </article>
    </body>
</html>
